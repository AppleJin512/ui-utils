// READ: http://docs-next.angularjs.org/guide/ie
(function(){var getIE=function(){var rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null){rv=parseFloat(RegExp.$1)}}return rv};var tags=["ng-include","ng-pluralize","ng-view","ng:include","ng:pluralize","ng:view"];var shiv=function(){for(var i=0,len=tags.length;i<len;i++){document.createElement(tags[i])}};var ieVersion=getIE();if(ieVersion>-1&&ieVersion<9){shiv()}})();angular.module("ui.filters",[]);angular.module("ui.directives",[]);angular.module("ui",["ui.filters","ui.directives"]).value("ui.config",{});(function(){angular.module("ui.directives",[]).directive("uiCurrency",function(currencyFilter){return{restrict:"AC",require:"?ngModel",link:function($scope,element,attrs,controller){var controllerOptions,options,renderview;controllerOptions=$scope[attrs.options]||$scope.uiCurrencyOptions|{};options={pos:attrs.pos||controllerOptions.pos||"ui-currency-pos",neg:attrs.neg||controllerOptions.neg||"ui-currency-neg",zero:attrs.zero||controllerOptions.zero||"ui-currency-zero",symbol:attrs.symbol||controllerOptions.symbol||void 0};renderview=function(viewvalue){var num;num=viewvalue*1;if(num>0){element.addClass(options.pos)}else{element.removeClass(options.pos)}if(num<0){element.addClass(options.neg)}else{element.removeClass(options.neg)}if(num===0){element.addClass(options.zero)}else{element.removeClass(options.zero)}if(viewvalue===""){element.text("")}else{element.text(currencyFilter(num,options.symbol))}return true};if(controller!=null){controller.$render=function(){var value;value=controller.$viewValue;element.val(value);renderview(value);return true}}else{renderview($scope[attrs.num])}return true}}})}).call(this);(function(){angular.module("ui.directives").directive("uiDate",function(){return{require:"?ngModel",link:function($scope,element,attrs,ngModelCtrl){var originalRender,updateModel,updateOptions;updateModel=function(value,picker){return $scope.$apply(function(){return ngModelCtrl.$setViewValue(element.datepicker("getDate"))})};updateOptions=function(options){var usersOnSelectHandler;if(options.onSelect!=null){usersOnSelectHandler=options.onSelect;return options.onSelect=function(value,picker){updateModel(value);return usersOnSelectHandler(value,picker)}}else{return options.onSelect=updateModel}};if(ngModelCtrl!=null){originalRender=ngModelCtrl.$render;ngModelCtrl.$render=function(){originalRender();return element.datepicker("setDate",ngModelCtrl.$viewValue)}}return attrs.$observe("uiDate",function(value){var options;options={};if(angular.isObject(value)){options=value}if(ngModelCtrl!=null){updateOptions(options)}return element.datepicker(options)})}}})}).call(this);angular.module("ui.directives").directive("uiEvent",[function(){return function(scope,elm,attrs){var events=scope.$eval(attrs.uiEvent),data={};if(attrs.uiEventData){data=scope.$eval(attrs.uiEventData)}if(angular.isString(events)){elm.bind(events,data,scope.$eval(attrs.uiEventCall))}else{elm.bind(events,data)}}}]);angular.module("ui.directives").directive("uiJq",[function(){return function(scope,elm,attrs){if(attrs.uiOptions){elm[attrs.uiJq](scope.$eval(attrs.uiOptions))}else{elm[attrs.uiJq]()}}}]);angular.module("ui.directives").directive("uiKeypress",[function(){return function(scope,elm,attrs){var params=scope.$eval("["+attrs.uiKeypress+"]");params[1]=params[1]||angular.noop();elm.bind("keypress",function(event){if(event.keyCode==params[0]){params[1](event);scope.$apply()}})}}]);angular.module("ui.directives").directive("uiLinky",[function(){return function(scope,elm,attrs){var newElm;scope.$watch(attrs.uiLinky,function(newVal,oldVal){if(newVal){newElm=angular.element("<a>");if(attr["ng-click"]){newElm.click(function(e){if(attr.href===undefined){e.preventDefault()}scope.$eval(attr["ng-click"])})}}else{newElm=angular.element("<span>")}delete attrs.href;delete attrs["ng-click"];delete attrs.uiLinky;newElm.attr(attrs);elm.replaceWith(newElm)})}}]);(function(){angular.module("ui.directives").directive("uiMask",function(){return{require:"ngModel",link:function($scope,element,attrs,controller){var mask,updatePlaceholder;mask=null;updatePlaceholder=function(){if(!(attrs.placeholder!=null)){return element.attr("placeholder",mask.replace(/9/g,"_"))}};controller.$render=function(){var value,_ref;value=(_ref=controller.$viewValue)!=null?_ref:"";element.val(value);if(mask!=null){element.mask(mask)}return updatePlaceholder()};attrs.$observe("uiMask",function(maskValue){mask=maskValue;return controller.$render()});controller.$parsers.push(function(value){var isValid;isValid=element.data("mask-isvalid");controller.$setValidity("mask",isValid);if(isValid){return element.mask()}else{return null}});return element.bind("keyup",function(){return $scope.$apply(function(){return controller.$setViewValue(element.mask())})})}}})}).call(this);angular.module("ui.directives").directive("uiRemove",[function(){return function(scope,elm,attrs){var parent=elm.parent();var expression=attrs.uiRemove;elm.data("ui-remove-index",elm.index());scope.$watch(expression,function(newValue,oldvalue){var index,children,child;if(newValue){elm.detach()}else if(!$.contains(parent,elm)){index=elm.data("ui-remove-index");children=elm.parent().children();if(children.length>0){for(var i=0;i<children.length;i++){child=children[i];if(index>child.index()&&i===children.length-1){child.after(elm)}else{child.before(elm)}}}else{parent.append(elm)}}})}}]);angular.module("ui.directives").directive("uiReset",[function(){return function(scope,elm,attrs){elm.wrap('<span class="ui-resetwrap" />').after('<a class="ui-reset" />').next().click(function(e){e.preventDefault();elm.val(null).trigger("change")})}}]);angular.module("ui.directives").directive("uiScrollfix",[function(){return function(scope,elm,attrs){var top=elm.offset().top;if(!attrs.uiScrollfix){attrs.uiScrollfix=top}else{if(attrs.uiScrollfix.indexOf("-")===0){attrs.uiScrollfix=top-attrs.uiScrollfix.substr(1)}else if(attrs.uiScrollfix.indexOf("+")===0){attrs.uiScrollfix=top+parseInt(attrs.uiScrollfix.substr(1))}}$(window).bind("scroll.ui-scrollfix",function(){if(!elm.hasClass("fixed")&&window.pageYOffset>attrs.uiScrollfix){elm.addClass("fixed")}else if(elm.hasClass("fixed")&&window.pageYOffset<attrs.uiScrollfix){elm.removeClass("fixed")}})}}]);angular.module("ui.directives").directive("uiSelect2",["ui.config","$http",function(uiConfig,$http){var options={};if(uiConfig.select2){angular.extend(options,uiConfig.select2)}return{require:"?ngModel",link:function(scope,elm,attrs,controller){function initialize(newVal){setTimeout(function(){if(newVal!==undefined){if(opts.ajax){if(newVal&&!$.isEmptyObject(newVal)){if(init&&opts.initial){var url=opts.initial(opts.ajax.url,newVal,opts.multiple);$http({method:"GET",url:url}).success(function(data,status,headers,config){data=opts.ajax.results(data);elm.select2("val",data.results||"")});init=false}}else{elm.select2("val","")}}else{elm.select2("val",newVal)}}},0)}var init=true,opts,prevVal="",loaded=false;opts=angular.extend({},options,scope.$eval(attrs.uiSelect2));if(!elm.is("select")&&attrs.multiple!==undefined){opts.multiple=true;elm.bind("change",function(){controller.$setViewValue(elm.val());scope.$apply()})}setTimeout(function(){elm.select2(opts);loaded=true;initialize(prevVal)},0);scope.$watch(attrs.ngModel,function(newVal,oldVal,scope){if(newVal===prevVal){return}if(loaded){initialize(newVal);if(!newVal){elm.select2("val","")}}prevVal=newVal});if(angular.isString(opts.watch)){scope.$watch(opts.watch,function(newVal,oldVal,scope){if(loaded&&prevVal){setTimeout(function(){elm.select2("val",prevVal)},0)}})}}}}]);angular.module("ui.directives").directive("uiShow",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiShow,function(newVal,oldVal){if(newVal){elm.addClass("ui-show")}else{elm.removeClass("ui-show")}})}}]).directive("uiHide",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiHide,function(newVal,oldVal){if(newVal){elm.addClass("ui-hide")}else{elm.removeClass("ui-hide")}})}}]).directive("uiToggle",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiToggle,function(newVal,oldVal){if(newVal){elm.removeClass("ui-hide").addClass("ui-show")}else{elm.removeClass("ui-show").addClass("ui-hide")}})}}]);angular.module("ui.directives").directive("uiTinymce",["ui.config",function(uiConfig){uiConfig.tinymce=uiConfig.tinymce||{};return function(scope,elm,attrs){var expression,options={onchange_callback:function(inst){if(inst.isDirty()){inst.save();elm.trigger("change")}},handle_event_callback:function(e){if(this.isDirty()){this.save();elm.trigger("change")}return true},setup:function(ed){ed.onSetContent.add(function(ed,o){if(ed.isDirty()){elm.trigger("change")}})}};if(attrs.uiTinymce){expression=scope.$eval(attrs.uiTinymce)}else{expression={}}angular.extend(options,uiConfig.tinymce,expression);setTimeout(function(){elm.tinymce(options)},0)}}]);angular.module("ui.filters").filter("highlight",function(){return function(text,filter){if(filter===undefined){return text}else{return text.replace(new RegExp(filter,"gi"),'<span class="match">$&</span>')}}});angular.module("ui.filters").filter("length",function(){return function(value){return value.length}});angular.module("ui.filters").filter("unique",function(){return function(items,key){if(key){var hashCheck={};for(i in items){var value=items[i][key];if(typeof hashCheck[value]!=="undefined"){delete items[i]}else{hashCheck[value]=true}}}else{var o={},i,l=items.length,r=[];for(i=0;i<l;i+=1){o[items[i]]=items[i]}for(i in o){r.push(o[i])}items=r}return items}});