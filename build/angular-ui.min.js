angular.module("ui.directives",["ui.directives.chosen","ui.directives.date","ui.directives.jq","ui.directives.keypress","ui.directives.linky","ui.directives.mask","ui.directives.remove","ui.directives.reset","ui.directives.scrollfix","ui.directives.showhide"]);(function(){angular.module("ui.filters",["ui.filters.highlight","ui.filters.length","ui.filters.unique"])}).call(this);(function(){var getIE=function(){var rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null){rv=parseFloat(RegExp.$1)}}return rv};var tags=["ng-include","ng-pluralize","ng-view","ng:include","ng:pluralize","ng:view"];var shiv=function(){for(var i=0,len=tags.length;i<len;i++){document.createElement(tags[i])}};var ieVersion=getIE();if(ieVersion>-1&&ieVersion<9){shiv()}})();angular.module("ui",["ui.filters","ui.directives"]).value("ui.config",{});(function(){angular.module("ui.directives.date",[]).directive("uiDate",function(){return{require:"?ngModel",scope:{uiDate:"evaluate"},link:function($scope,element,attrs,controller){var originalRender,updateModel,usersOnSelectHandler;if($scope.uiDate==null)$scope.uiDate={};if(controller!=null){updateModel=function(value,picker){return $scope.$apply(function(){return controller.$setViewValue(element.datepicker("getDate"))})};if($scope.uiDate.onSelect!=null){usersOnSelectHandler=$scope.uiDate.onSelect;$scope.uiDate.onSelect=function(value,picker){updateModel(value);return usersOnSelectHandler(value,picker)}}else{$scope.uiDate.onSelect=updateModel}originalRender=controller.$render;controller.$render=function(){originalRender();return element.datepicker("setDate",controller.$viewValue)}}return element.datepicker($scope.uiDate)}}})}).call(this);(function(){describe("uiDate",function(){var selectDate;selectDate=function(element,date){element.datepicker("setDate",date);return $.datepicker._selectDate(element)};beforeEach(module("ui.directives.date"));describe("simple use on input element",function(){it("should have a date picker attached",function(){return inject(function($compile,$rootScope){var element;element=$compile("<input ui-date></input>")($rootScope);return expect(element.datepicker()).toBeDefined()})});it("should be able to get the date from the model",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<input ui-date ng-model='x'></input>")($rootScope);$rootScope.$apply(function(){return $rootScope.x=aDate});return expect(element.datepicker("getDate")).toEqual(aDate)})});return it("should put the date in the model",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<input ui-date ng-model='x'></input>")($rootScope);selectDate(element,aDate);return expect($rootScope.x).toEqual(aDate)})})});describe("use with required directive",function(){it("should be invalid initially",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<input ui-date ng-model='x' required ></input>")($rootScope);$rootScope.$apply();return expect(element.hasClass("ng-invalid")).toBeTruthy()})});it("should be valid if model has been specified",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<input ui-date ng-model='x' required ></input>")($rootScope);$rootScope.$apply(function(){return $rootScope.x=aDate});return expect(element.hasClass("ng-valid")).toBeTruthy()})});return it("should be valid after the date has been picked",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<input ui-date ng-model='x' required ></input>")($rootScope);selectDate(element,aDate);return expect(element.hasClass("ng-valid")).toBeTruthy()})})});describe("simple use on a div element",function(){it("should have a date picker attached",function(){return inject(function($compile,$rootScope){var element;element=$compile("<div ui-date></div>")($rootScope);return expect(element.datepicker()).toBeDefined()})});it("should be able to get the date from the model",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<div ui-date ng-model='x'></div>")($rootScope);$rootScope.$apply(function(){return $rootScope.x=aDate});return expect(element.datepicker("getDate")).toEqual(aDate)})});return it("should put the date in the model",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<div ui-date ng-model='x'></div>")($rootScope);selectDate(element,aDate);return expect($rootScope.x).toEqual(aDate)})})});return describe("use with required directive",function(){it("should be invalid initially",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<div ui-date ng-model='x' required ></div>")($rootScope);$rootScope.$apply();return expect(element.hasClass("ng-invalid")).toBeTruthy()})});it("should be valid if model has been specified",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<div ui-date ng-model='x' required ></div>")($rootScope);$rootScope.$apply(function(){return $rootScope.x=aDate});return expect(element.hasClass("ng-valid")).toBeTruthy()})});return it("should be valid after the date has been picked",function(){return inject(function($compile,$rootScope){var aDate,element;aDate=new Date(2010,12,1);element=$compile("<div ui-date ng-model='x' required ></div>")($rootScope);selectDate(element,aDate);return expect(element.hasClass("ng-valid")).toBeTruthy()})})})})}).call(this);angular.module("ui.directives.jq").directive("uiJq",[function(){return function(scope,elm,attrs){if(attrs.uiOptions){elm[attrs.uiJq](scope.$eval(attrs.uiOptions))}else{elm[attrs.uiJq]()}}}]);angular.module("ui.directives.keypress").directive("uiKeypress",[function(){return function(scope,elm,attrs){var params=scope.$eval("["+attrs.uiKeypress+"]");params[1]=params[1]||angular.noop();elm.bind("keypress",function(event){if(event.keyCode==params[0]){params[1](event);scope.$apply()}})}}]);angular.module("ui.directives.linky").directive("uiLinky",[function(){return function(scope,elm,attrs){var newElm;scope.$watch(attrs.uiLinky,function(newVal,oldVal){if(newVal){newElm=angular.element("<a>");if(attr["ng-click"]){newElm.click(function(e){if(attr.href===undefined){e.preventDefault()}scope.$eval(attr["ng-click"])})}}else{newElm=angular.element("<span>")}delete attrs.href;delete attrs["ng-click"];delete attrs.uiLinky;newElm.attr(attrs);elm.replaceWith(newElm)})}}]);(function(){var module;module=angular.module("ui.directives.mask");module.directive("uiMask",function(){return{require:"ngModel",scope:{uiMask:"evaluate"},link:function($scope,element,attrs,controller){controller.$render=function(){var _ref;element.val((_ref=controller.$viewValue)!=null?_ref:"");return element.mask($scope.uiMask)};controller.$parsers.push(function(value){var isValid;isValid=element.data("mask-isvalid");controller.$setValidity("mask",isValid);if(isValid){return element.mask()}else{return null}});return element.bind("blur",function(){return $scope.$apply(function(){return controller.$setViewValue(element.mask())})})}}})}).call(this);angular.module("ui.directives.remove").directive("uiRemove",[function(){return function(scope,elm,attrs){var parent=elm.parent();var expression=attrs.uiRemove;elm.data("ui-remove-index",elm.index());scope.$watch(expression,function(newValue,oldvalue){var index,children,child;if(newValue){elm.detach()}else if(!$.contains(parent,elm)){index=elm.data("ui-remove-index");children=elm.parent().children();if(children.length>0){for(var i=0;i<children.length;i++){child=children[i];if(index>child.index()&&i===children.length-1){child.after(elm)}else{child.before(elm)}}}else{parent.append(elm)}}})}}]);angular.module("ui.directives.reset").directive("uiReset",[function(){return function(scope,elm,attrs){elm.wrap('<span class="ui-resetwrap" />').after('<a class="ui-reset" />').next().click(function(e){e.preventDefault();elm.val(null).trigger("change")})}}]);angular.module("ui.directives.scrollfix").directive("uiScrollfix",[function(){return function(scope,elm,attrs){if(!attrs.uiScrollfix){attrs.uiScrollfix=elm.offset().top}$(window).scroll(function(){if(!elm.hasClass("fixed")&&window.pageYOffset>attrs.uiScrollfix){elm.addClass("fixed")}else if(elm.hasClass("fixed")&&window.pageYOffset<attrs.uiScrollfix){elm.removeClass("fixed")}})}}]);directive("uiSelect2",["uiConfig",function(uiConfig){uiConfig.select2=uiConfig.select2||{};return function(scope,elm,attrs){var options=angular.extend({},uiConfig.select2,scope.$eval(attrs.uiSelect2));setTimeout(function(){elm.select2(options);scope.$watch(attrs.ngModel,function(newVal,oldVal){elm.select2("val",newVal)})},0)}}]);angular.module("ui.directives.show").directive("uiShow",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiShow,function(newVal,oldVal){if(newVal){elm.addClass("ui-show")}else{elm.removeClass("ui-show")}})}}]);angular.module("ui.directives").directive("uiHide",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiHide,function(newVal,oldVal){if(newVal){elm.addClass("ui-hide")}else{elm.removeClass("ui-hide")}})}}]);angular.module("ui.directives").directive("uiToggle",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiToggle,function(newVal,oldVal){if(newVal){elm.removeClass("ui-hide").addClass("ui-show")}else{elm.removeClass("ui-show").addClass("ui-hide")}})}}]);angular.module("ui.filters.highlight",[]).filter("highlight",function(){return function(text,filter){if(filter===undefined){return text}else{return text.replace(new RegExp(filter,"gi"),'<span class="match">$&</span>')}}});angular.module("ui.filters.length",[]).filter("length",function(){return function(value){return value.length}});angular.module("ui.filters.unique",[]).filter("unique",function(){return function(items,key){var hashCheck={};for(i in items){var value=items[i][key];if(typeof hashCheck[value]!=="undefined"){delete items[i]}else{hashCheck[value]=true}}return items}});